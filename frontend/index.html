<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MyBudgetHub Dashboard</title>
  <link rel="stylesheet" href="styles.css" />
  <script>
    async function checkAuth() {
      const response = await fetch("http://127.0.0.1:5000/auth/status", {
        credentials: "include"
      });
      const data = await response.json();
      if (!data.authenticated) {
        window.location.href = "frontpage.html";
      }
    }
    checkAuth();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <!-- LOGOUT -->
  <button id="logoutBtn">Log Out</button>
</head>
<body>

  <h1>MyBudgetHub</h1>

  <!-- SUMMARY CARDS -->
  <div class="summary-grid">

    <div class="summary-card">
      <h4>This Month</h4>
      <p id="monthlyTotal">$0</p>
    </div>

    <div class="summary-card">
      <h4>This Month vs Last Month</h4>
      <p id="monthComparison">—</p>
    </div>

    <div class="summary-card">
      <h4>This Week vs Last Week</h4>
      <p id="weeklyComparison">—</p>
    </div>

    <div class="summary-card">
      <h4>Top Category</h4>
      <p id="topCategory">—</p>
    </div>

    <div class="summary-card warning">
      <h4>Budget Status</h4>
      <p id="budgetWarnings">OK</p>
    </div>

  </div>

  <!-- CHARTS -->
  <section>
    <h2>Spending by Category</h2>
    <canvas id="expenseChart"></canvas>
  </section>

  <section>
    <h2>Monthly Spending</h2>
    <canvas id="monthlyChart"></canvas>
  </section>

  <section>
    <h2>Budget vs Spending</h2>
    <canvas id="budgetChart"></canvas>
  </section>

  <script src="app.js"></script>
  
</body>
</html>
